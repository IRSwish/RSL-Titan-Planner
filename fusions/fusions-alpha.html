<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title id="document-title">Swish - Fusion</title>
  <link rel="stylesheet" href="/style/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    @font-face {
      font-family: 'American Captain';
      src: url('/style/American Captain.otf') format('opentype');
    }

    .date-column.date-selected {
    background: linear-gradient(
        to bottom,
        #00ffdd00 0%,
        rgba(0,201,255,0.15) 20%,
        rgba(0,201,255,0.15) 80%,
        rgba(0,201,255,0) 100%
    );
    }

    .event-block.event-highlight {
    background: linear-gradient(
        90deg,
        rgba(0,201,255,0.15) 0%,
        rgba(0,201,255,0.05) 100%
    );
    box-shadow: 0 0 10px rgba(0,201,255,0.4);
    border-color: #00c9ff; /* l√©ger bleu n√©on pour rappeler le highlight */
    }
  </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8653563887265027" crossorigin="anonymous"></script>
</head>
<body>
  
  <!-- BARRE DE MENU CENTR√âE -->
  <div id="menu-container"></div>

  <div class="header-wrapper">
    <header id="page-title"></header>
  </div> 

  <div class="timeline-container" id="timeline-container">
    <div class="timeline"></div>
  </div>

  <!-- Summary box -->
  <div class="summary-box">
    <div class="legend">
      <div><span class="legend-dot skipped"></span> Skipped</div>
      <div><span class="legend-dot in-progress"></span> In progress</div>
      <div><span class="legend-dot done"></span> Done</div>
      <div><span class="legend-dot not-started"></span> Not started</div>
    </div>
    <div>Acquired : <span id="points-acquired">0</span></div>
    <div>Virtual total : <span id="points-virtual">0</span></div>
    <div>Skipped : <span id="points-passed">0</span></div>
  </div>

  <!-- ‚ö° Charger la config AVANT le script -->
  <script src="fusions-config.js"></script>
  <script>
    function loadFusionFromHash() {
      const fusionKey = window.location.hash.replace('#', '');
      const fusion = window.fusions[fusionKey];
  
      if (fusion) {
        document.getElementById('page-title').textContent = fusion.name;
        document.title = `Swish - ${fusion.name}`;
  
        const timelineContainer = document.getElementById('timeline-container');
        timelineContainer.setAttribute('data-json', fusion.json);
  
        // üîÅ Recharger le JSON et la timeline
        if (typeof window.reloadTimeline === 'function') {
          window.reloadTimeline();
        }
      } else {
        document.getElementById('page-title').textContent = "Unlisted fusion yet";
        document.title = "Swish - Unlisted fusion yet";
      }
    }
  
    // Au chargement initial
    loadFusionFromHash();
  
    // üëÇ On √©coute les changements de hash
    window.addEventListener('hashchange', loadFusionFromHash);
  </script>
  <script src="fusion-alpha.js"></script>

</body>
</html>